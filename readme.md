# Batch Script to rename files to include the extension filename

This repository has two files which are Windows Batch scripts to rename files in the same directory to include the file extension in the file name.

## renameNoPrompt.cmd

This script includes the first line of turning `@echo off` so that the commands executed do not include any output unless the script specifies. The second line sets the environment to include delayed expansion so we can set variables inside the `for` loop (which is explained later) for the extension of each file we process. After that, the script creates a `for` loop which contains the file names in the current directory (`%CD%`) as `%%A`. Inside the loop the script saves the file extension as `!ext!` so we can use it later. In the 5th line of the script we check that the current file in the `for` loop as `%%A` isn't the current batch script. We do this by comparing the file name and extension (which is set as `%%A` with `%0`). The `~nx` prefix for the variable is used to retrieve the filename and extension string so we can compare the name of the script being executed to the current file in the `for` loop. In the case that the current file isn't the same as the file being executed we run `ren` with the parameters `%%A` (which is the current file) and the string `"%%~nA" !ext:~1!%%~xA`. `%%~nA` refers to the same filename which we are changing, `!ext:~1!` refers to the extension of the current file after "." which is included in file extensions, and `%%~xA` which is the file extension of the current file. We use the `ext` variable to store the file extension so we can use String substitution (`:~1`) in the final file name to get the file extension without the period. `ren` will rename all of the files in the current directory to include the file extension within the file name with a space after the ending of the original file name.

## renamePrompt.cmd

This script is very similar to the script above but there is a prompt to ensure the user is sure to execute the script. First the script turns `echo` off so there isn't bloat in the command prompt application. Secondly the script will print out the question if the user wants to change the name of the files which doesn't include the script that is being executed. The 4th line is used to print out all of the files which will be changed by the script so the user has the change to review the changes that they are willing to make. Line 5 will prompt the user for input which will be used to tell if the user is willing to continue with the rename operation. On the next line the `/I` flag is used to tell the program to ignore the case of the input so the user can input either `y` or `Y` to continue the program. After the user provides input, in the case they allow the program to run, the script will run exactly the same as the script described above or it will exit without making changes.